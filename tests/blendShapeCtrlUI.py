# coding:utf-8
import pymel.core as pm

class Template(object):
    def __init__(self):
        pass
    
    def rig(self):
        pass

class Joint(object):
    def __init__(self):
        pass
    
    def createJoint(self):
        pass
    
    def rig(self):
        pass

class BlendShapeCtrlUI(object):
    def __init__(self, directions=['x','-x','y','-y']):
        '''초기화'''
        self.directions = [_.lower() for _ in directions]
        self.ctrlType = None
    
    def setDirection(self, directions=[]):
        '''방향 입력'''
        
        # 입력값 검토
        self.directions = [_.lower() for _ in directions]
        
        # 셋으로 변경
        cond1 = set(self.directions)
        
        # 컨트롤 타입 리셋
        self.ctrlType = None
        
        # 입력값 체크
        cond2 = set(['x'])
        if cond2 == cond2.intersection(cond1):
            self.ctrlType = 'x'
            
        cond2 = set(['-x'])
        if cond2 == cond2.intersection(cond1):
            self.ctrlType = '-x'

        cond2 = set(['x','-x'])
        if cond2 == cond2.intersection(cond1):
            self.ctrlType = '-x+x'            
    
    def create(self):
        '''컨트롤러 생성'''
        pass
    
    def __createGuide(self):
        '''가이드 생성'''    
        pass
    
    def __createCurveShape(self):
        '''커브쉐입 생성'''
        p = None
        k = None
        
        if self.shape == 'square_2x2':
            p=[ (1.0, 1.2499999999999998, 1.1102230246251568e-16), (0.3333333333333333, 1.25, 3.70074341541719e-17), (-0.3333333333333333, 1.2500000000000002, -3.7007434154171876e-17), (-1.0, 1.2500000000000004, -1.1102230246251565e-16), (-1.0653009999999998, 1.2500000000000002, -1.2552203720872514e-16), (-1.195903, 1.1959030000000004, -1.5452150670114405e-16), (-1.25, 1.0653010000000005, -1.6653345369377348e-16), (-1.25, 1.0000000000000004, -1.6653345369377348e-16), (-1.25, 0.33333333333333376, -5.551115123125783e-17), (-1.2500000000000002, -0.3333333333333328, 5.551115123125783e-17), (-1.2500000000000004, -0.9999999999999994, 1.6653345369377348e-16), (-1.2500000000000004, -1.0653009999999994, 1.665334536937735e-16), (-1.1959030000000004, -1.1959029999999995, 1.545215067011441e-16), (-1.0653009999999998, -1.2499999999999996, 1.255220372087251e-16), (-1.0, -1.2499999999999998, 1.1102230246251568e-16), (-0.3333333333333333, -1.25, 3.70074341541719e-17), (0.3333333333333333, -1.2500000000000002, -3.7007434154171876e-17), (1.0, -1.2500000000000004, -1.1102230246251565e-16), (1.0653009999999998, -1.2500000000000004, -1.2552203720872514e-16), (1.195903, -1.1959030000000006, -1.5452150670114405e-16), (1.25, -1.0653010000000005, -1.6653345369377348e-16), (1.25, -1.0000000000000007, -1.6653345369377348e-16), (1.25, -0.3333333333333339, -5.551115123125783e-17), (1.2500000000000002, 0.3333333333333328, 5.551115123125783e-17), (1.2500000000000004, 0.9999999999999996, 1.6653345369377348e-16), (1.2500000000000004, 1.0653009999999996, 1.665334536937735e-16), (1.1959030000000004, 1.1959029999999997, 1.545215067011441e-16), (1.0653009999999998, 1.2499999999999998, 1.255220372087251e-16), (1.0, 1.2499999999999998, 1.1102230246251568e-16)]
            k=[ 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 2.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 5.0, 6.0, 6.0, 6.0, 7.0, 7.0, 7.0, 8.0, 9.0, 9.0, 9.0, 10.0, 10.0, 10.0, 11.0, 12.0, 12.0, 12.0 ]
            
        if self.shape == 'square_1x1':
            p=[ (1.0, 1.2499999999999998, 1.1102230246251568e-16), (0.6666666865348816, 1.25, 3.70074341541719e-17), (0.33333334326744074, 1.2500000000000002, -3.7007434154171876e-17), (0.0, 1.2500000000000004, -1.1102230246251565e-16), (-0.06530099999999983, 1.2500000000000002, -1.2552203720872514e-16), (-0.19590299999999994, 1.1959030000000004, -1.5452150670114405e-16), (-0.25, 1.0653010000000005, -1.6653345369377348e-16), (-0.25, 1.0000000000000004, -1.6653345369377348e-16), (-0.25, 0.6666666865348816, -5.551115123125783e-17), (-0.2500000000000002, 0.3333333432674408, 5.551115123125783e-17), (-0.25000000000000044, 5.551115123125783e-16, 1.6653345369377348e-16), (-0.25000000000000044, -0.06530099999999939, 1.665334536937735e-16), (-0.19590300000000038, -0.1959029999999995, 1.545215067011441e-16), (-0.06530099999999983, -0.24999999999999956, 1.255220372087251e-16), (0.0, -0.24999999999999978, 1.1102230246251568e-16), (0.33333334326744074, -0.25, 3.70074341541719e-17), (0.6666666865348816, -0.25, -3.7007434154171876e-17), (1.0, -0.25000000000000044, -1.1102230246251565e-16), (1.0653009999999998, -0.25000000000000044, -1.2552203720872514e-16), (1.195903, -0.1959030000000006, -1.5452150670114405e-16), (1.25, -0.0653010000000005, -1.6653345369377348e-16), (1.25, -6.661338147750939e-16, -1.6653345369377348e-16), (1.25, 0.3333333432674408, -5.551115123125783e-17), (1.2500000000000002, 0.6666666865348816, 5.551115123125783e-17), (1.2500000000000004, 0.9999999999999996, 1.6653345369377348e-16), (1.2500000000000004, 1.0653009999999996, 1.665334536937735e-16), (1.1959030000000004, 1.1959029999999997, 1.545215067011441e-16), (1.0653009999999998, 1.2499999999999998, 1.255220372087251e-16), (1.0, 1.2499999999999998, 1.1102230246251568e-16) ], 
            k=[ 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 2.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 5.0, 6.0, 6.0, 6.0, 7.0, 7.0, 7.0, 8.0, 9.0, 9.0, 9.0, 10.0, 10.0, 10.0, 11.0, 12.0, 12.0, 12.0 ]
            
        if self.shape == 'circle':
            p=[(-0.2, 0.0, 0.0), (-0.2, -0.052240800000000004, 1.1599787796967576e-17), (-0.1567224, -0.1567224, 3.479936339090273e-17), (0.0, -0.2216388, 4.921369978205803e-17), (0.1567224, -0.1567224, 3.479936339090273e-17), (0.2, -0.052240800000000004, 1.1599787796967576e-17), (0.2, 0.0, 0.0), (0.2, 0.052240800000000004, 1.1599787796967576e-17), (0.1567224, 0.1567224, -3.479936339090273e-17), (0.0, 0.2216388, -4.921369978205803e-17), (-0.1567224, 0.1567224, -3.479936339090273e-17), (-0.2, 0.052240800000000004, -1.1599787796967576e-17), (-0.2, 0.0, 0.0)]
            k=[2.0, 2.0, 2.0, 3.0, 4.0, 5.0, 6.0, 6.0, 6.0, 7.0, 8.0, 9.0, 10.0, 10.0, 10.0]
            
        if self.shape == 'bothSide':
            p=[(0.0, -0.24999999999999978, -1.1102230246251565e-16), (0.33333333333333326, -0.25000000000000017, -3.7007434154171876e-17), (0.6666666666666665, -0.2500000000000004, 3.7007434154171864e-17), (1.0, -0.2500000000000004, 1.1102230246251573e-16), (1.0653009999999998, -0.2500000000000003, 1.2552203720872516e-16), (1.195903, -0.19590300000000044, 1.5452150670114405e-16), (1.2770485000000003, -4.0659597910774894e-16, 1.725394271900882e-16), (1.1959030000000004, 0.19590299999999966, 1.545215067011441e-16), (1.0653009999999998, 0.24999999999999978, 1.255220372087251e-16), (1.0, 0.24999999999999983, 1.1102230246251568e-16), (0.6666666666666667, 0.25000000000000017, 3.700743415417189e-17), (0.3333333333333335, 0.2500000000000004, -3.700743415417189e-17), (0.0, 0.25000000000000033, -1.1102230246251565e-16), (-0.33333333333333326, 0.25000000000000017, 3.700743415417189e-17), (-0.6666666666666666, 0.2500000000000004, -3.700743415417189e-17), (-1.0, 0.25000000000000033, -1.1102230246251565e-16), (-1.0653009999999998, 0.2500000000000002, -1.2552203720872514e-16), (-1.195903, 0.19590300000000038, -1.5452150670114405e-16), (-1.2770485, 4.0659597910774894e-16, -1.725394271900882e-16), (-1.1959030000000002, -0.1959029999999996, -1.545215067011441e-16), (-1.065301, -0.2499999999999997, -1.2552203720872514e-16), (-1.0, -0.24999999999999978, -1.1102230246251565e-16), (-0.6666666666666667, -0.25000000000000017, -3.7007434154171876e-17), (-0.3333333333333335, -0.2500000000000004, 3.7007434154171864e-17), (2.220446049250313e-16, -0.2500000000000004, 1.1102230246251573e-16)]
            k=[6.0, 6.0, 6.0, 8.0, 8.0, 8.0, 9.0, 10.0, 11.0, 12.0, 12.0, 12.0, 14.0, 14.0, 14.0, 16.0, 16.0, 16.0, 17.0, 18.0, 19.0, 20.0, 20.0, 20.0, 22.0, 22.0, 22.0]
            
        if self.shape == 'slider':
            p=[(1.6653345369377348e-16, 0.2500000000000002, -1.1102230246251563e-16), (-0.06530099999999994, 0.2500000000000002, -1.2552203720872514e-16), (-0.19590299999999994, 0.19590300000000038, -1.5452150670114405e-16), (-0.27704850000000003, 4.0659597910774894e-16, -1.725394271900882e-16), (-0.19590300000000016, -0.1959029999999996, -1.545215067011441e-16), (-0.06530100000000005, -0.2499999999999997, -1.2552203720872514e-16), (0.0, -0.24999999999999978, -1.1102230246251565e-16), (0.3333333333333333, -0.25000000000000017, -3.7007434154171876e-17), (0.6666666666666665, -0.2500000000000004, 3.7007434154171864e-17), (1.0000000000000002, -0.2500000000000004, 1.1102230246251573e-16),(1.065301, -0.2500000000000003, 1.2552203720872516e-16), (1.195903, -0.19590300000000044, 1.5452150670114405e-16), (1.2770485, -4.0659597910774894e-16, 1.725394271900882e-16), (1.1959030000000002, 0.19590299999999966, 1.545215067011441e-16), (1.0653009999999998, 0.24999999999999978, 1.255220372087251e-16), (1.0, 0.24999999999999983, 1.1102230246251568e-16), (0.6666666666666667, 0.25000000000000017, 3.700743415417189e-17), (0.33333333333333337, 0.2500000000000004, -3.700743415417189e-17), (5.551115123125783e-17, 0.25000000000000033, -1.1102230246251565e-16)]
            k=[2.0, 2.0, 2.0, 3.0, 4.0, 5.0, 6.0, 6.0, 6.0, 8.0, 8.0, 8.0, 9.0, 10.0, 11.0, 12.0, 12.0, 12.0, 14.0, 14.0, 14.0]
        
        return pm.curve( d=3, p=p, k=k) 
                 
    def createCtrl(self):
        print self.shape

    
ctrl = BlendShapeCtrlUI()
ctrl.setDirection(['x','-x'])
print ctrl.ctrlType